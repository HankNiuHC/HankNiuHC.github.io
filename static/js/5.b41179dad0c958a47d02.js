webpackJsonp([5],{"12n7":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("BO1k"),r=s.n(n),i=s("VsUZ"),a={data:function(){return{settings:[],lst:null,datas:[],selected:!1}},watch:{selected:function(t){if(!0===t){var e=[],s=!0,n=!1,i=void 0;try{for(var a,l=r()(this.datas);!(s=(a=l.next()).done);s=!0){var o=a.value;e.push(this.datas.indexOf(o))}}catch(t){n=!0,i=t}finally{try{!s&&l.return&&l.return()}finally{if(n)throw i}}this.settings=e}!1===t&&(this.settings=[])}},methods:{getStaff:function(){var t=this,e=this;Object(i.k)().then(function(s){if(200===s.status){var n=e.transXml(s);1e3===n.Code?(e.lst=n.User,e.getTrans()):1031===n.Code?(t.$router.go(-1),plus.nativeUI.alert("未查询到班组信息")):Object(i.n)()}})},chooseUser:function(t,e){var s=[],n=!0,a=!1,l=void 0;try{for(var o,c=r()(this.settings);!(n=(o=c.next()).done);n=!0){var u=o.value,v=!0,f=!1,d=void 0;try{for(var h,_=r()(this.datas);!(v=(h=_.next()).done);v=!0){var m=h.value;u===this.datas.indexOf(m)&&s.push(m.Id)}}catch(t){f=!0,d=t}finally{try{!v&&_.return&&_.return()}finally{if(f)throw d}}}}catch(t){a=!0,l=t}finally{try{!n&&c.return&&c.return()}finally{if(a)throw l}}var p=s.length,g=this;plus.nativeUI.confirm("请确认将这 "+p+" 项移交给 "+e,function(e){0===e.index&&Object(i.o)(t,s).then(function(t){200===t.status&&(1e3===g.transXml(t).Code&&(g.datas=[],g.settings=[],g.getTrans()))})})},getTrans:function(){var t=this,e=this;Object(i.i)().then(function(s){if(200===s.status){var n=e.transXml(s);1e3===n.Code?e.datas=n.List:1031===n.Code?(t.$router.go(-1),plus.nativeUI.alert("无可移交任务")):Object(i.n)()}})}},filters:{ellipsis:function(t){return t?t.length>40?t.substring(0,40)+"..":t:""}},created:function(){this.getStaff()}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"py-0 mb-10"},[s("v-list",{attrs:{subheader:"","three-line":"",flat:""}},[s("v-row",[s("v-checkbox",{staticClass:"ml-6",attrs:{label:"全选"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),t._v(" "),s("v-spacer"),t._v(" "),t.settings.length>0?s("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[s("v-btn",t._g(t._b({staticClass:"float-right mr-4",attrs:{color:"success",fab:"",dark:""}},"v-btn",r,!1),n),[s("v-icon",[t._v("mdi-transit-transfer")])],1)]}}],null,!1,3469981427)},[t._v(" "),s("v-list",t._l(t.lst,function(e){return s("v-list-item",{key:e.UserId,attrs:{dense:""},on:{click:function(s){return t.chooseUser(e.UserId,e.UserName)}}},[s("v-list-item-title",[t._v("\n              "+t._s(e.UserName)+"\n            ")])],1)}),1)],1):t._e()],1),t._v(" "),s("v-list-item-group",{attrs:{multiple:""},model:{value:t.settings,callback:function(e){t.settings=e},expression:"settings"}},t._l(t.datas,function(e,n){return s("v-list-item",{key:n,scopedSlots:t._u([{key:"default",fn:function(r){var i=r.active;return[s("v-list-item-action",[s("v-checkbox",{key:n,attrs:{"input-value":i,color:"primary"}})],1),t._v(" "),s("v-list-item-content",[s("v-list-item-title",[t._v("序号:"+t._s(e.OprNum)+" #"+t._s(e.CaldronNum)+" "+t._s(e.BatchID))]),t._v(" "),s("v-list-item-subtitle",[t._v(t._s(e.OprUnitId)+" "+t._s(e.ProdRouteOprId))]),t._v(" "),s("v-list-item-subtitle",[t._v(t._s(t._f("ellipsis")(e.OprActionDesc)))])],1)]}}],null,!0)})}),1)],1)],1)},staticRenderFns:[]},o=s("VU/8")(a,l,!1,null,null,null);e.default=o.exports}});